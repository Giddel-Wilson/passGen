<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="%sveltekit.assets%/favicon.png" />
	<meta name="viewport" content="width=device-width" />
	<script>
		// Apply theme on initial load to avoid flash of wrong theme
		(function () {
			try {
				const storedSettings = localStorage.getItem('password-generator-settings');
				let theme = 'light';

				if (storedSettings) {
					const settings = JSON.parse(storedSettings);
					theme = settings.theme || 'light';
				}

				if (theme === 'system') {
					const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
					document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
				} else {
					document.documentElement.setAttribute('data-theme', theme);
				}
			} catch (e) {
				console.error('Failed to set initial theme', e);
			}
		})();
	</script>
	%sveltekit.head%
</head>

<body data-sveltekit-preload-data="hover">
	<div style="display: contents">%sveltekit.body%</div>
</body>

</html>